<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usinagem IA - Expert Edition</title>
    <style>
        :root { --primary: #1a2a3a; --accent: #3498db; --success: #27ae60; --warning: #f1c40f; }
        body { font-family: 'Segoe UI', Roboto, sans-serif; background: #f4f7f9; margin: 0; color: #333; }
        .app-container { width: 100%; max-width: 500px; margin: auto; background: white; min-height: 100vh; box-shadow: 0 0 20px rgba(0,0,0,0.1); }
        .header { background: var(--primary); color: white; padding: 25px; text-align: center; border-bottom: 4px solid var(--accent); }
        .content { padding: 20px; }
        .section-title { font-size: 14px; color: var(--accent); font-weight: bold; text-transform: uppercase; margin: 20px 0 10px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; font-size: 13px; font-weight: 600; margin-bottom: 5px; color: #555; }
        input, select { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 6px; font-size: 15px; box-sizing: border-box; background: #fafafa; }
        .grid { display: flex; gap: 10px; }
        .btn-calc { width: 100%; background: var(--primary); color: white; border: none; padding: 18px; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; margin-top: 20px; transition: 0.3s; border: 1px solid var(--accent); }
        .btn-calc:hover { background: var(--accent); }
        
        .results-panel { display: none; margin-top: 25px; padding: 20px; background: #f8f9fa; border-radius: 10px; border: 1px solid #ddd; }
        .result-item { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px; border-bottom: 1px dashed #eee; padding-bottom: 5px; }
        .value { font-weight: bold; color: var(--primary); }
        .price-tag { text-align: center; font-size: 24px; color: var(--success); font-weight: 800; margin-top: 15px; }
        
        .ia-scan { background: #e8f4fd; border: 2px dashed var(--accent); padding: 20px; border-radius: 10px; text-align: center; cursor: pointer; margin-bottom: 10px; }
        #loading { display: none; color: var(--accent); font-weight: bold; text-align: center; margin: 10px 0; font-size: 13px; }
    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <h2 style="margin:0">Usinagem Expert IA</h2>
        <span style="font-size: 12px; opacity: 0.8;">C√°lculos de Engenharia e Or√ßamenta√ß√£o</span>
    </div>

    <div class="content">
        <div class="ia-scan" onclick="scanIA()">
            <span style="font-size: 30px;">üì∑</span>
            <p style="margin:5px 0; font-weight:bold;">Escanear Desenho T√©cnico</p>
            <small>Extra√ß√£o de cotas e toler√¢ncias via Vis√£o Computacional</small>
        </div>
        <div id="loading">‚åõ Analisando rugosidade e geometria...</div>

        <div class="section-title">Dados do Material e Pe√ßa</div>
        <div class="form-group">
            <label>Material de Partida</label>
            <select id="mat">
                <option value="7.85" data-kc="2100">A√ßo SAE 1045 (200 HB)</option>
                <option value="8.0" data-kc="2500">A√ßo Inox 304</option>
                <option value="2.7" data-kc="700">Alum√≠nio 6061 T6</option>
            </select>
        </div>
        <div class="grid">
            <div class="form-group" style="flex:1">
                <label>√ò Bruto (mm)</label>
                <input type="number" id="diam" value="50">
            </div>
            <div class="form-group" style="flex:1">
                <label>Comp. (mm)</label>
                <input type="number" id="len" value="100">
            </div>
        </div>

        <div class="section-title">Par√¢metros de Engenharia</div>
        <div class="grid">
            <div class="form-group" style="flex:1">
                <label>Vc (m/min)</label>
                <input type="number" id="vc" value="180">
            </div>
            <div class="form-group" style="flex:1">
                <label>Avan√ßo f (mm/z)</label>
                <input type="number" id="f" value="0.2" step="0.01">
            </div>
        </div>
        <div class="form-group">
            <label>Raio da Ponta da Ferramenta (mm)</label>
            <input type="number" id="raio" value="0.8" step="0.4">
        </div>

        <button class="btn-calc" onclick="calcularEngenharia()">GERAR AN√ÅLISE T√âCNICA</button>

        <div id="results" class="results-panel">
            <div class="result-item"><span>Rota√ß√£o Calculada:</span> <span class="value" id="resRPM">0</span> RPM</div>
            <div class="result-item"><span>Rugosidade Te√≥rica (Ra):</span> <span class="value" id="resRa">0</span> ¬µm</div>
            <div class="result-item"><span>Pot√™ncia de Corte Est.:</span> <span class="value" id="resPot">0</span> kW</div>
            <div class="result-item"><span>Massa Bruta:</span> <span class="value" id="resPeso">0</span> kg</div>
            <div class="price-tag">R$ <span id="resPreco">0,00</span></div>
            <p style="font-size: 10px; color: #888; text-align: center; margin-top: 10px;">C√°lculos baseados em Kc (Press√£o Espec√≠fica de Corte) e Geometria ISO.</p>
        </div>
    </div>
</div>

<script>
function scanIA() {
    const loader = document.getElementById('loading');
    loader.style.display = 'block';
    setTimeout(() => {
        document.getElementById('diam').value = 80;
        document.getElementById('len').value = 250;
        document.getElementById('f').value = 0.15;
        loader.innerHTML = "‚úÖ Geometria detectada! Sugest√£o: Acabamento Ra 1.6";
        setTimeout(() => { loader.style.display = 'none'; }, 1500);
    }, 2500);
}

function calcularEngenharia() {
    // Pegar valores
    const D = parseFloat(document.getElementById('diam').value);
    const L = parseFloat(document.getElementById('len').value);
    const Vc = parseFloat(document.getElementById('vc').value);
    const f = parseFloat(document.getElementById('f').value);
    const r = parseFloat(document.getElementById('raio').value);
    const dens = parseFloat(document.getElementById('mat').value);
    const Kc = parseFloat(document.getElementById('mat').selectedOptions[0].getAttribute('data-kc'));

    // 1. RPM: (Vc * 1000) / (PI * D)
    const rpm = (Vc * 1000) / (Math.PI * D);
    
    // 2. Rugosidade Ra ‚âà (f^2) / (32 * r) * 1000 (para converter em micra)
    const ra = (Math.pow(f, 2) / (32 * r)) * 1000;

    // 3. Pot√™ncia (Simplificada): (ap * f * Vc * Kc) / (60 * 10^3 * rendimento)
    // Assumindo ap (profundidade) de 2mm e rendimento 0.8
    const pot = (2 * f * Vc * Kc) / (60000 * 0.8);

    // 4. Peso
    const peso = (Math.PI * Math.pow(D/20, 2) * (L/10) * dens) / 1000;

    // Exibir resultados
    document.getElementById('resRPM').innerText = Math.round(rpm);
    document.getElementById('resRa').innerText = ra.toFixed(2);
    document.getElementById('resPot').innerText = pot.toFixed(2);
    document.getElementById('resPeso').innerText = peso.toFixed(2);
    
    // Pre√ßo Estimado (Log√≠stica de Freela)
    const preco = (peso * 25) + (pot * 50) + 200; // Material + Complexidade de Energia + Setup
    document.getElementById('resPreco').innerText = preco.toLocaleString('pt-BR', {minimumFractionDigits: 2});

    document.getElementById('results').style.display = 'block';
}
</script>

</body>
</html>

